{"version":3,"file":"orders.js","sources":["/Users/nathanhood11/Documents/Code/super-takeout/app/static/js/es6/orders.es6.js"],"names":[],"mappings":"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","sourcesContent":["/* jshint unused:false */\n\nfunction ajax(url, verb, data={}, success=r=>console.log(r), dataType='html'){//defaulting to html\n    'use strict';\n  $.ajax({url:url, type:verb, dataType:dataType, data:data, success:success});\n}\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  function init(){\n    $('#order').on('change', '.menu', getDishes);\n    $('#add').click(addMenuItem);\n    $('#order').on('click', '#remove-item', removeMenuItem);\n    $('#order').on('change', '.qty', changeText);\n    $('#order').on('blur', '.qty', changeText);\n    $('#order').on('change', '.dish', changeText);\n  }\n\n  function changeText(){\n    // $('.dish').children('option:selected').attr('data-cost')\n    var totalCost = 0;\n    var totalCal = 0;\n    ($('.dish').children('option:selected')).map((i,option)=>{\n      var itemCal = $(option).attr('data-cal') * 1;\n      var itemCost = $(option).attr('data-cost') * 1;\n      var qty = $(option).parent().prev().prev().val() *1;\n      if(!isNaN(itemCost) && !isNaN(qty) && qty > 0 && !isNaN(itemCal)){\n        totalCost += itemCost * qty;\n        totalCal += itemCal * qty;\n      }\n    });\n\n    $('#totals').empty().append(`Total Calories ${totalCal} | Total Cost $${totalCost.toFixed(2)}`);\n  }\n\n  function removeMenuItem(event){\n    if($('form#order > .menu-item').length > 1){\n      $(this).parent().remove();\n      changeText();\n    }\n    event.preventDefault();\n  }\n\n  function addMenuItem(event){\n    ajax('/orders/addmenu', 'GET', null, html=>{\n      $('#order').prepend(html);\n    });\n    event.preventDefault();\n  }\n\n  function getDishes(){\n    var menu = $(this).val();\n    ajax(`/dishes/${menu}`, 'GET', null, html=>{\n      $(this).next().empty().append(html);\n      changeText();\n    });\n  }\n\n\n})();\n"]}